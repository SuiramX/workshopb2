<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="stylesheet" type="text/css" href="bouton.css">
    <title>Journée d'un étudiant - Play</title>
</head>

<body>
    <!-- Bouton ON/OFF avant de lancer la vidéo -->
    <div class="onoffswitch" id="onOffSwitchContainer">
        <label class="switch">
            <input type="checkbox" id="toggleSwitch">
            <span class="slider"></span>
            <span class="text on">On</span>
            <span class="text off">Off</span>
        </label>
    </div>

    <!-- Conteneur vidéo, caché par défaut -->
    <div class="video-container" id="videoContainer" style="display: none;">
        <video id="mainVideo" class="background-video" muted controls>
            <source src="videos/video1.mp4" type="video/mp4">
            Votre navigateur ne supporte pas la balise vidéo.
        </video>
    </div>

    <!-- Contenu des choix (invisible au début) -->
    <div id="choices" style="display: none;">
        <button class="btn" onclick="makeChoice('velo')">Prendre le vélo</button>
        <button class="btn" onclick="makeChoice('pied')">Aller directement à pied</button>
        <button class="btn" onclick="makeChoice('babyfoot')">Faire du babyfoot</button>
        <button class="btn" onclick="makeChoice('cafe')">Aller prendre un café</button>
        <button class="btn" onclick="makeChoice('cours')">Aller directement en cours</button>
        <button class="btn" onclick="makeChoice('blender')">Ouvrir le logiciel Blender</button>
        <button class="btn" onclick="makeChoice('vscode')">Ouvrir le logiciel VsCode</button>
        <button class="btn" onclick="makeChoice('yanshee')">Jouer avec le robot Yanshee</button>
        <button class="btn" onclick="makeChoice('rvr')">Jouer avec le robot RVR+</button>
        <button class="btn" onclick="makeChoice('sandwich')">Manger un sandwich</button>
        <button class="btn" onclick="makeChoice('doggy')">Manger son repas d'hier</button>
        <button class="btn" onclick="makeChoice('amixem')">Regarder Amixem</button>
        <button class="btn" onclick="makeChoice('mk')">Regarder un speedrun de Mario Kart</button>
        <button class="btn" onclick="makeChoice('eco')">Suivre le cours d'économie</button>
        <button class="btn" onclick="makeChoice('math')">Suivre le cours de math</button>
    </div>

    <!-- Affiche le bouton back en permanence -->
    <div class="back">
        <button onclick="window.location.href='index.html'">
            <svg height="16" width="16" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 1024 1024">
                <path
                    d="M874.690416 495.52477c0 11.2973-9.168824 20.466124-20.466124 20.466124l-604.773963 0 188.083679 188.083679c7.992021 7.992021 7.992021 20.947078 0 28.939099-4.001127 3.990894-9.240455 5.996574-14.46955 5.996574-5.239328 0-10.478655-1.995447-14.479783-5.996574l-223.00912-223.00912c-3.837398-3.837398-5.996574-9.046027-5.996574-14.46955 0-5.433756 2.159176-10.632151 5.996574-14.46955l223.019353-223.029586c7.992021-7.992021 20.957311-7.992021 28.949332 0 7.992021 8.002254 7.992021 20.957311 0 28.949332l-188.073446 188.073446 604.753497 0C865.521592 475.058646 874.690416 484.217237 874.690416 495.52477z">
                </path>
            </svg>
            <span>Back</span>
        </button>
    </div>


    <!-- Script pour gérer les vidéos et les choix -->
    <script>
        const video = document.getElementById("mainVideo");
        const videoContainer = document.getElementById("videoContainer");
        const choicesDiv = document.getElementById("choices");
        const toggleSwitch = document.getElementById("toggleSwitch");
        const onOffSwitchContainer = document.getElementById("onOffSwitchContainer");

        // Gérer l'état du bouton ON/OFF
        toggleSwitch.addEventListener('change', function () {
            if (toggleSwitch.checked) {
                videoContainer.style.display = "block"; // Afficher le conteneur vidéo
                video.play(); // Lancer la vidéo
                // Attendre une seconde avant de masquer le bouton ON/OFF
                setTimeout(function () {
                    onOffSwitchContainer.style.display = "none"; // Masquer le bouton ON/OFF
                }, 1000); // 1000 ms = 1 seconde
            } else {
                videoContainer.style.display = "none"; // Masquer le conteneur vidéo
                video.pause(); // Mettre en pause la vidéo
            }
        });

        // Afficher les choix quand la vidéo se termine
        video.addEventListener('ended', (event) => {
            showChoices();
        });

        function showChoices() {
            choicesDiv.style.display = "block"; // Afficher les boutons de choix
        }

        // Gérer le choix de l'utilisateur
        function makeChoice(choice) {
            choicesDiv.style.display = "none"; // Cacher les boutons après le choix
            if (choice === 'breakfast') {
                video.src = "videos/video_breakfast.mp4";
            } else if (choice === 'skip_breakfast') {
                video.src = "videos/video_skip_breakfast.mp4";
            }
            video.play();
            video.onended = function () {
                video.src = "videos/video2.mp4"; // Continuer avec la vidéo principale
                video.play();
            };
        }
    </script>

</body>

</html>